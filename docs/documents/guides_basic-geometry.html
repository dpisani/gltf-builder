<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>guides/basic-geometry | gltf-builder</title><meta name="description" content="Documentation for gltf-builder"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">gltf-builder</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">gltf-builder</a></li><li><a href="guides_basic-geometry.html">guides/basic-geometry</a></li></ul></div><div class="tsd-panel tsd-typography"><a id="basic-geometry" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Basic geometry<a href="#basic-geometry" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>In GLTF, we can specify geometry by creating meshes that we attach to nodes in our scene. The building blocks
of these meshes are primitives (usually triangles) that are fed into the graphics processor and drawn to the screen.</p>
<a id="creating-primitives" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Creating primitives<a href="#creating-primitives" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Primitives in gltf-builder are composed using arrays of data that describe the various properties that our geometry might have.
The most common property we will use is <code>position</code>, which marks out the placement of vertices in 3D space. For example, a simple
square mesh can be made up out of two triangles having 3 vertices each:</p>
<pre><code class="js"><span class="hl-2">const</span><span class="hl-1"> { </span><span class="hl-3">Primitive</span><span class="hl-1">, </span><span class="hl-3">buildVec3Accessor</span><span class="hl-1"> } = </span><span class="hl-4">require</span><span class="hl-1">(</span><span class="hl-5">&#39;gltf-builder&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-3">squarePrimitive</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">Primitive</span><span class="hl-1">().</span><span class="hl-4">position</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">buildVec3Accessor</span><span class="hl-1">([</span><br/><span class="hl-1">    [</span><span class="hl-6">0</span><span class="hl-1">, </span><span class="hl-6">0</span><span class="hl-1">, </span><span class="hl-6">0</span><span class="hl-1">], </span><span class="hl-7">// triangle #1</span><br/><span class="hl-1">    [</span><span class="hl-6">1</span><span class="hl-1">, </span><span class="hl-6">0</span><span class="hl-1">, </span><span class="hl-6">0</span><span class="hl-1">],</span><br/><span class="hl-1">    [</span><span class="hl-6">0</span><span class="hl-1">, </span><span class="hl-6">1</span><span class="hl-1">, </span><span class="hl-6">0</span><span class="hl-1">],</span><br/><span class="hl-1">    [</span><span class="hl-6">0</span><span class="hl-1">, </span><span class="hl-6">1</span><span class="hl-1">, </span><span class="hl-6">0</span><span class="hl-1">], </span><span class="hl-7">// triangle #2</span><br/><span class="hl-1">    [</span><span class="hl-6">1</span><span class="hl-1">, </span><span class="hl-6">0</span><span class="hl-1">, </span><span class="hl-6">0</span><span class="hl-1">],</span><br/><span class="hl-1">    [</span><span class="hl-6">1</span><span class="hl-1">, </span><span class="hl-6">1</span><span class="hl-1">, </span><span class="hl-6">0</span><span class="hl-1">]</span><br/><span class="hl-1">  ])</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>The 3D vectors representing the points on each triangle are represented here as 3-component arrays. gltf-builder also supports the
usage of vectors stored as <code>Float32Array</code> objects, such as those created by the <a href="http://glmatrix.net/" target="_blank" class="external">gl-matrix</a> package.</p>
<p>We can re-use vertices in our primitives by setting the <code>indices</code> property on our primitive. The provided indices will then be used
to determine which triangles will be drawn.</p>
<pre><code class="js"><span class="hl-2">const</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">Primitive</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">buildVec3Accessor</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">buildUIntAccessor</span><br/><span class="hl-1">} = </span><span class="hl-4">require</span><span class="hl-1">(</span><span class="hl-5">&#39;gltf-builder&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-3">squarePrimitive</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">Primitive</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-4">position</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">buildVec3Accessor</span><span class="hl-1">([</span><br/><span class="hl-1">      [</span><span class="hl-6">0</span><span class="hl-1">, </span><span class="hl-6">0</span><span class="hl-1">, </span><span class="hl-6">0</span><span class="hl-1">], </span><span class="hl-7">// vertex #0</span><br/><span class="hl-1">      [</span><span class="hl-6">1</span><span class="hl-1">, </span><span class="hl-6">0</span><span class="hl-1">, </span><span class="hl-6">0</span><span class="hl-1">], </span><span class="hl-7">// vertex #1</span><br/><span class="hl-1">      [</span><span class="hl-6">0</span><span class="hl-1">, </span><span class="hl-6">1</span><span class="hl-1">, </span><span class="hl-6">0</span><span class="hl-1">], </span><span class="hl-7">// vertex #2</span><br/><span class="hl-1">      [</span><span class="hl-6">1</span><span class="hl-1">, </span><span class="hl-6">1</span><span class="hl-1">, </span><span class="hl-6">0</span><span class="hl-1">] </span><span class="hl-7">// vertex #3</span><br/><span class="hl-1">    ])</span><br/><span class="hl-1">  )</span><br/><span class="hl-1">  .</span><span class="hl-4">indices</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">buildUIntAccessor</span><span class="hl-1">([</span><br/><span class="hl-1">      </span><span class="hl-6">0</span><span class="hl-1">, </span><span class="hl-7">// triangle #1</span><br/><span class="hl-1">      </span><span class="hl-6">1</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">2</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">2</span><span class="hl-1">, </span><span class="hl-7">// triangle #2</span><br/><span class="hl-1">      </span><span class="hl-6">1</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">3</span><br/><span class="hl-1">    ])</span><br/><span class="hl-1">  );</span>
</code><button type="button">Copy</button></pre>

<p>This creates the same square as the first example by specifying the 4 corners of the square in the <code>position</code> property and then defining
the two triangles in the mesh using the <code>indices</code> property, reducing the number of vertices from 6 down to 4. Using indices to re-use points in
meshes can result in both smaller file sizes and more efficient GPU calls when rendering primitives.</p>
<p>The data provided for primitive properties needs to be provided via an <a href="https://dpisani.github.io/gltf-builder/Accessor.html">Accessor</a>.
gltf-builder comes with some utility functions to create data accessors, such as the <code>buildVec3Accessor</code> and <code>buildUIntAccessor</code> methods
that were used in these examples.</p>
<p><a href="https://registry.khronos.org/glTF/specs/2.0/glTF-2.0.html#geometry" target="_blank" class="external">More information about geometry in the GLTF specification</a></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#basic-geometry"><span>Basic geometry</span></a><ul><li><a href="#creating-primitives"><span>Creating primitives</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">gltf-builder</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
